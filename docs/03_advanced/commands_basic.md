---
title: 基础命令指南
description: Nekro Agent 基础命令指南，涵盖聊天管理、插件查看等日常使用的管理命令，仅适用于 OneBot V11 适配器（QQ 平台）
---

# 基础命令指南

本文档介绍 Nekro Agent 的基础管理命令，这些命令用于日常的聊天管理、插件查看等操作。

::: warning 平台限制
当前所有命令仅在 OneBot V11 适配器下可用（即 QQ 平台），其他协议端暂不支持。
:::

## 权限说明

命令权限分为以下几种：

- **超级管理员**：在 `config.SUPER_USERS` 中配置的用户，拥有所有命令权限
- **群管理员**：仅对部分命令（如 `reset`）在群聊中有权限
- **私聊用户**：在私聊中对部分命令有权限

::: tip 提示
当 `config.ENABLE_COMMAND_UNAUTHORIZED_OUTPUT` 设置为 `false` 时，无权限用户执行命令不会有任何输出反馈。
:::

## 聊天管理命令

### reset

**功能**：清空指定聊天的聊天记录

**语法**：`reset [chat_key]`

**权限要求**：

- 超级管理员：可操作任意聊天
- 群管理员：只能操作当前群聊
- 私聊用户：只能操作当前私聊

**参数说明**：

- `chat_key`（可选）：要清空的聊天标识，省略时默认为当前聊天

**使用示例**：

```
reset                    # 清空当前聊天记录
reset group_123456789    # 清空指定群聊记录（仅超级管理员）
```

### inspect

**功能**：查看指定聊天的基本信息

**语法**：`inspect [chat_key]`

**权限要求**：超级管理员

**参数说明**：

- `chat_key`（可选）：要查询的聊天标识，省略时默认为当前聊天

**使用示例**：

```
inspect                  # 查看当前聊天信息
inspect group_123456789  # 查看指定聊天信息
```

### na_on / na-on

**功能**：开启指定聊天的聊天功能

**语法**：`na_on [target]`

**权限要求**：超级管理员

**参数说明**：

- `target`（可选）：操作目标，支持以下值：
  - 省略：当前聊天
  - `*`：所有聊天
  - `private_*`：所有私聊
  - `group_*`：所有群聊
  - 具体聊天标识：指定聊天

**使用示例**：

```
na_on                    # 开启当前聊天功能
na_on *                  # 开启所有聊天功能
na_on private_*          # 开启所有私聊功能
na_on group_*            # 开启所有群聊功能
na_on group_123456789    # 开启指定群聊功能
```

### na_off / na-off

**功能**：关闭指定聊天的聊天功能

**语法**：`na_off [target]`

**权限要求**：超级管理员

**参数说明**：与 `na_on` 相同

**使用示例**：

```
na_off                   # 关闭当前聊天功能
na_off *                 # 关闭所有聊天功能
na_off private_*         # 关闭所有私聊功能
na_off group_*           # 关闭所有群聊功能
na_off group_123456789   # 关闭指定群聊功能
```

## 系统信息命令

### na_info / na-info

**功能**：查看系统信息和当前聊天设定

**语法**：`na_info`

**权限要求**：超级管理员

**显示内容**：

- Nekro Agent 版本信息
- 是否运行在 Docker 环境
- 当前聊天的人设配置
- 当前使用的模型组

**使用示例**：

```
na_info
```

### na_help / na-help

**功能**：查看命令帮助信息

**语法**：`na_help`

**权限要求**：超级管理员

**显示内容**：

- 所有可用命令的简要说明
- 命令分类和使用方法
- 系统版本和项目链接

**使用示例**：

```
na_help
```

## 插件管理命令

### na_plugins / na-plugins / nps

**功能**：查看当前已加载的插件列表及详细信息

**语法**：`na_plugins`

**权限要求**：超级管理员

**显示内容**：

- 插件名称、版本和状态
- 插件作者和描述
- 插件功能统计（沙盒方法数量、提示注入、Webhook 数量）
- 插件总数统计

**使用示例**：

```
na_plugins
```

### plugin_info / plugin-info / npi

**功能**：查看指定插件的详细信息

**语法**：`plugin_info <plugin_name_or_key>`

**权限要求**：超级管理员

**参数说明**：

- `plugin_name_or_key`：插件名称或插件键名，支持模糊匹配

**匹配优先级**：

1. 键名完全匹配（区分大小写）
2. 键名完全匹配（不区分大小写）
3. 插件名完全匹配（区分大小写）
4. 插件名完全匹配（不区分大小写）
5. 键名部分匹配
6. 插件名部分匹配

**显示内容**：

- 插件基本信息（名称、版本、状态、作者等）
- 功能统计
- 配置信息
- 方法列表

**使用示例**：

```
plugin_info meme         # 查看表情包插件信息
plugin_info drawing      # 查看绘图插件信息
```

### reset_plugin / reset-plugin

**功能**：重置指定插件的配置文件

**语法**：`reset_plugin <plugin_name_or_key>`

**权限要求**：超级管理员

**参数说明**：

- `plugin_name_or_key`：插件名称或插件键名

**匹配规则**：与 `plugin_info` 相同

**注意事项**：

- 此操作会删除插件的配置文件
- 插件将恢复到默认配置状态
- 操作不可撤销

**使用示例**：

```
reset_plugin meme        # 重置表情包插件配置
reset_plugin drawing     # 重置绘图插件配置
```

## 注意事项

1. **权限控制**：所有命令都有严格的权限控制，非授权用户无法执行
2. **聊天状态**：部分命令要求聊天处于激活状态才能执行
3. **参数验证**：命令会验证参数的有效性，无效参数会返回错误提示
4. **操作确认**：某些操作（如重置配置）不可撤销，请谨慎使用
5. **平台限制**：当前仅支持 OneBot V11 适配器（QQ 平台）

::: tip 获取更多帮助

- 使用 `na_help` 命令查看所有可用命令
- 查看 [调试命令指南](/docs/03_advanced/commands_debug) 了解高级调试功能
- 访问 [GitHub 项目](https://github.com/KroMiose/nekro-agent) 获取最新信息
  :::
